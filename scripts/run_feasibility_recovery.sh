. ./scripts/activate.sh

files=(
    "data/SDPLIB/data/mcp250-1.dat-s"
    "data/SDPLIB/data/mcp250-2.dat-s"
    "data/SDPLIB/data/mcp250-3.dat-s"
    "data/SDPLIB/data/mcp250-4.dat-s"
    "data/SDPLIB/data/mcp500-1.dat-s"
    "data/SDPLIB/data/mcp500-2.dat-s"
    "data/SDPLIB/data/mcp500-3.dat-s"
    "data/SDPLIB/data/mcp500-4.dat-s"
    "data/SDPLIB/data/gpp250-1.dat-s"
    "data/SDPLIB/data/gpp250-2.dat-s"
    "data/SDPLIB/data/gpp250-3.dat-s"
    "data/SDPLIB/data/gpp250-4.dat-s"
    "data/SDPLIB/data/gpp500-1.dat-s"
    "data/SDPLIB/data/gpp500-2.dat-s"
    "data/SDPLIB/data/gpp500-3.dat-s"
    "data/SDPLIB/data/gpp500-4.dat-s"
    "data/rudy/out/gpp_1000_5_1.dat-s"
    "data/rudy/out/gpp_1000_5_2.dat-s"
    "data/rudy/out/gpp_1000_5_3.dat-s"
    "data/rudy/out/gpp_1000_5_4.dat-s"
    "data/rudy/out/gpp_2000_5_1.dat-s"
    "data/rudy/out/gpp_2000_5_2.dat-s"
    "data/rudy/out/gpp_2000_5_3.dat-s"
    "data/rudy/out/gpp_2000_5_4.dat-s"
    "data/rudy/out/gpp_3000_5_1.dat-s"
    "data/rudy/out/gpp_3000_5_2.dat-s"
    "data/rudy/out/gpp_3000_5_3.dat-s"
    "data/rudy/out/gpp_3000_5_4.dat-s"
    "data/rudy/out/gpp_4000_5_1.dat-s"
    "data/rudy/out/gpp_4000_5_2.dat-s"
    "data/rudy/out/gpp_4000_5_3.dat-s"
    "data/rudy/out/gpp_4000_5_4.dat-s"
    "data/rudy/out/gpp_1000_10_1.dat-s"
    "data/rudy/out/gpp_1000_10_2.dat-s"
    "data/rudy/out/gpp_1000_10_3.dat-s"
    "data/rudy/out/gpp_1000_10_4.dat-s"
    "data/rudy/out/gpp_2000_10_1.dat-s"
    "data/rudy/out/gpp_2000_10_2.dat-s"
    "data/rudy/out/gpp_2000_10_3.dat-s"
    "data/rudy/out/gpp_2000_10_4.dat-s"
    "data/rudy/out/gpp_3000_10_1.dat-s"
    "data/rudy/out/gpp_3000_10_2.dat-s"
    "data/rudy/out/gpp_3000_10_3.dat-s"
    "data/rudy/out/gpp_3000_10_4.dat-s"
    "data/rudy/out/gpp_4000_10_1.dat-s"
    "data/rudy/out/gpp_4000_10_2.dat-s"
    "data/rudy/out/gpp_4000_10_3.dat-s"
    "data/rudy/out/gpp_4000_10_4.dat-s"
    "data/rudy/out/mcp_1000_5_1.dat-s"
    "data/rudy/out/mcp_1000_5_2.dat-s"
    "data/rudy/out/mcp_1000_5_3.dat-s"
    "data/rudy/out/mcp_1000_5_4.dat-s"
    "data/rudy/out/mcp_2000_5_1.dat-s"
    "data/rudy/out/mcp_2000_5_2.dat-s"
    "data/rudy/out/mcp_2000_5_3.dat-s"
    "data/rudy/out/mcp_2000_5_4.dat-s"
    "data/rudy/out/mcp_3000_5_1.dat-s"
    "data/rudy/out/mcp_3000_5_2.dat-s"
    "data/rudy/out/mcp_3000_5_3.dat-s"
    "data/rudy/out/mcp_3000_5_4.dat-s"
    "data/rudy/out/mcp_4000_5_1.dat-s"
    "data/rudy/out/mcp_4000_5_2.dat-s"
    "data/rudy/out/mcp_4000_5_3.dat-s"
    "data/rudy/out/mcp_4000_5_4.dat-s"
    "data/rudy/out/mcp_1000_10_1.dat-s"
    "data/rudy/out/mcp_1000_10_2.dat-s"
    "data/rudy/out/mcp_1000_10_3.dat-s"
    "data/rudy/out/mcp_1000_10_4.dat-s"
    "data/rudy/out/mcp_2000_10_1.dat-s"
    "data/rudy/out/mcp_2000_10_2.dat-s"
    "data/rudy/out/mcp_2000_10_3.dat-s"
    "data/rudy/out/mcp_2000_10_4.dat-s"
    "data/rudy/out/mcp_3000_10_1.dat-s"
    "data/rudy/out/mcp_3000_10_2.dat-s"
    "data/rudy/out/mcp_3000_10_3.dat-s"
    "data/rudy/out/mcp_3000_10_4.dat-s"
    "data/rudy/out/mcp_4000_10_1.dat-s"
    "data/rudy/out/mcp_4000_10_2.dat-s"
    "data/rudy/out/mcp_4000_10_3.dat-s"
    "data/rudy/out/mcp_4000_10_4.dat-s"
)

tols=(1e-2 1e-3)

for file in $files; do
    for tol in $tols; do
        echo "tol: $tol  $file"
        python scripts/recover_feasibility.py --problem $file --tol $tol --solver subgradient_projection
    done
done
